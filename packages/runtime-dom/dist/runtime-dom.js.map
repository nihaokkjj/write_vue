{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/patchAttr.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../../shared/src/shapeFlags.ts", "../../shared/src/index.ts", "../../runtime-core/src/components/Teleport.ts", "../../runtime-core/src/createVnode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/seq.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactiveEffect.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/apiWatch.ts", "../../runtime-core/src/scheduler.ts", "../../runtime-core/src/component.ts", "../../runtime-core/src/apiLifecycle.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/apiProvide.ts", "../../runtime-core/src/components/Transition.ts", "../../runtime-core/src/defineAsyncComponent.ts", "../src/index.ts"],
  "sourcesContent": ["//\u5BF9\u8282\u70B9\u5143\u7D20\u7684\u589E\u5220\u67E5\u6539\n\nexport const nodeOps = {\n  insert: (el, parent, anchor) =>\n    parent.insertBefore(el, anchor || null),\n  \n  remove(el) {\n    //\u79FB\u9664dom\u5143\u7D20\n    const parent = el?.parentNode\n    if (parent) parent.removeChild(el)\n  },\n  createElement: type => document.createElement(type),\n  createText: text => document.createTextNode(text),\n  setText: (node, text) => node.nodeValue = text,\n  setElementText: (el, text) => {\n    el.textContent = text\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling\n}\n", "export default function patchAttr(el, key, value) {\n  if (value === null) {\n    el.removeAttribute(key)\n  } else {\n    el.setAttribute(key, value)\n  }\n}\n\n", "\n\nexport default function patchClass(el, value) {\n  if (value == null) { \n    //\u79FB\u9664class\n    el.removeAttribute('class')\n  } else {\n    el.className = value\n  }\n}", "//\u521B\u5EFA\u8C03\u7528\u5668, \u51CF\u5C11\u7ED1\u5B9A\u548C\u89E3\u7ED1\u6B21\u6570\nfunction createInvoker(value) {\n  const invoker = (e) => invoker.value(e)\n  invoker.value = value\n  return invoker\n}\n\nexport default function patchEvent(el, name, nextValue) {\n\n  //\u53D6\u7F13\u5B58\n  const invokers = el._vei || (el._vei = {})\n  //\u53BB\u9664\u524D\u7F00\"on\"\n  const eventName = name.slice(2).toLowerCase()\n\n  //\u5224\u65AD\u662F\u5426\u5B58\u5728\u65E7\u503C\n  const exisitingInvokers = invokers[name]\n  //\u5982\u679C\u4E4B\u524D\u5B58\u5728\u8FD9\u4E2A\u65B9\u6CD5, \u53EA\u9700\u6362\u7ED1, \u51CF\u5C11\u89E3\u7ED1\u6B21\u6570\n  if(nextValue && exisitingInvokers) {\n    return (exisitingInvokers.value = nextValue)\n  }\n//\u4E4B\u524D\u6CA1\u6709\u5B58\u5728\u8FC7\n  if (nextValue) {\n    const invoker = (invokers[name] = createInvoker(nextValue))\n    // console.log(el.addEventListener(eventName, invoker))\n    // debugger\n\n    return el.addEventListener(eventName, invoker)\n  }\n  //\u4EE5\u524D\u6709\u73B0\u5728\u6CA1\u6709\n  if (exisitingInvokers) {\n    el.removeEventListener(eventName, exisitingInvokers)\n    invokers[name] = undefined\n  }\n}", "export default function patchStyle(el, preValue, nextValue) {\n  let style = el.style\n  if (nextValue) {\n    for (let key in nextValue) {\n      style[key] = nextValue[key] //\u65B0\u6837\u5F0F\u5168\u90E8\u751F\u6548\n    }\n  }\n\n  if (preValue) {\n    for(let key in preValue) {\n      //\u770B\u4EE5\u524D\u7684\u5C5E\u6027\u73B0\u5728\u6709\u6CA1\u6709, \u5982\u679C\u6CA1\u6709\u5C31\u5220\u6389\n      if(!nextValue || nextValue[key] === null) {\n        style[key] = null\n      }\n    }\n  }\n}", "//\u5BF9\u8282\u70B9\u5143\u7D20\u7684\u5C5E\u6027\u64CD\u4F5C class style event\n\nimport patchAttr from './modules/patchAttr'\nimport patchClass from './modules/patchClass'\nimport patchEvent from './modules/patchEvent'\nimport patchStyle from './modules/patchStyle'\n\n\nexport default function patchProp(el, key, preValue, nextValue) {\n\n  if (key === 'class') {\n    return patchClass(el, nextValue)\n  } else if (key === 'style') {\n    return patchStyle(el, preValue, nextValue )\n  } else if (/^on[^a-z]/.test(key)) { //\u4E8B\u4EF6\u540D\u79F0\u4E3AonClick\u8FD9\u7C7B, \"on\"\u5F00\u5934\u52A0\u5927\u5199\u5B57\u6BCD\n    return patchEvent(el, key, nextValue)\n  } else {\n    return patchAttr(el, key, nextValue)\n  }\n\n}\n\n", "export enum ShapeFlags { //\u5BF9\u5143\u7D20\u5F62\u72B6\u5224\u65AD\n  //\u901A\u8FC7\u4F4D\u8FD0\u7B97\u548C\u6216\u8FD0\u7B97\u6765\u8BA1\u7B97\u542B\u6709\u7684\u5C5E\u6027\n  ELEMENT = 1,\n  FUNCTIONAL_COMPONENT = 1 << 1,\n  STATEFUL_COMPONENT = 1 << 2,\n  TEXT_CHILDREN = 1 << 3,\n  ARRAY_CHILDREN = 1 << 4,\n  SLOTS_CHILDREN = 1 << 5,\n  TELEPORT = 1 << 6,\n  SUSPENSE = 1 << 7,\n  COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8,\n  COMPONENT_KEPT_ALIVE = 1 << 9,\n  COMPONENT = \n  ShapeFlags.STATEFUL_COMPONENT \n  | ShapeFlags.FUNCTIONAL_COMPONENT,\n} ", "export * from './shapeFlags'\n\nexport function isObject(value) {\n  return typeof value === 'object' && value !== null\n}\n\nexport function isFunction(value) {\n  return typeof value === 'function'\n}\n\nexport function isString(value) {\n  return typeof value === 'string'\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport const hasOwn = (value, key) => {\n  return hasOwnProperty.call(value, key)\n}", "import { ShapeFlags } from \"@vue/shared\"\n\nexport const Teleport = {\n  __isTeleport: true,\n\n  remove(vnode, unmountChildren) {\n    // vnode.type.remove(vnode, unmount)\n\n    const {shapeFlag, children} = vnode\n    if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      unmountChildren(children)\n    }\n  },\n\n  process\n  (n1, n2, container, anchor, parentComponent, internals) {\n    let {\n      mountChildren,\n      patchChildren,\n      move\n    } = internals\n\n    //\u770Bn1, n2\u7684\u5173\u7CFB\n    if (!n1) {\n      const target =\n       (n2.target = document.querySelector(n2.props.to))\n   \n      if (target) {\n        mountChildren(n2.children, target, parentComponent)\n      }\n    } else {\n      patchChildren(n1, n2, n2.target, parentComponent)\n\n      if (n2.props.to !== n1.props.to) {\n        const nextTarget = document.querySelector(n2.props.to)\n\n        n2.children.forEach((child) => move(child, nextTarget, anchor))\n      }\n    }\n\n  }\n}\n\nexport const isTeleport = \n  (value) => value.__isTeleport\n\n\n\n", "import { isFunction, isObject, isString, ShapeFlags } from '@vue/shared'\nimport { isTeleport } from './components/Teleport'\n\nexport const Text = Symbol('Text')\nexport const Fragment = Symbol('Fragment')\n\nexport function isVnode(value) {\n\treturn value?.__v_isVnode\n}\n\n//\u6CA1\u6709\u63D0\u4F9Bkey\u5C31\u90FD\u662Fundefined\nexport function isSameVnode(n1, n2) {\n\treturn n1.type === n2.type && n1.key === n2.key\n}\n\nexport function createVnode(type, props, children?) {\n\tconst shapeFlag = isString(type)\n\t\t? ShapeFlags.ELEMENT\n\t\t: isTeleport(type)\n\t\t? ShapeFlags.TELEPORT\n\t\t: isObject(type)\n\t\t? ShapeFlags.STATEFUL_COMPONENT\n\t\t: isFunction(type)\n\t\t? ShapeFlags.FUNCTIONAL_COMPONENT\n\t\t: 0\n\n\tconst vnode = {\n\t\t__v_isVnode: true,\n\t\ttype,\n\t\tprops,\n\t\tchildren,\n\t\tkey: props?.key, //diff\u7B97\u6CD5\u540E\u9762\u9700\u8981key\n\t\tel: null, //\u865A\u62DF\u8282\u70B9\u9700\u8981\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\u662F\u8C01\n\t\tshapeFlag: shapeFlag as number,\n\t\tref: props?.ref,\n\t}\n\n\tif (children) {\n\t\tif (Array.isArray(children)) {\n\t\t\tvnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN\n\t\t} else if (isObject(children)) {\n\t\t\tvnode.shapeFlag |= ShapeFlags.SLOTS_CHILDREN //\u63D2\u69FD\n\t\t} else {\n\t\t\tchildren = String(children)\n\t\t\tvnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN\n\t\t}\n\t}\n\treturn vnode\n}\n", "import {isObject} from '@vue/shared'\nimport { createVnode, isVnode} from './createVnode'\n//h(\u7C7B\u578B, \u5C5E\u6027, \u513F\u5B50)\n//h(\u7C7B\u578B, \u513F\u5B50)\n//1.\u4E24\u4E2A\u53C2\u6570\u7B2C\u4E8C\u4E2A\u53C2\u6570\u53EF\u80FD\u662F\u5C5E\u6027\uFF0C\u6216\n//\u8005\u865A\u62DF\u8282\u70B9(v_isVnode)\n//2.\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5C31\u662F\u4E00\u4E2A\u6570\u7EC4->\u513F\u5B50\n//3.\u5176\u4ED6\u60C5\u51B5\u5C31\u662F\u5C5E\u6027\n//4.\u76F4\u63A5\u4F20\u9012\u975E\u5BF9\u8C61\u7684\uFF0C\u6587\u672C\n//5.\u4E0D\u80FD\u51FA\u73B0\u4E09\u4E2A\u53C2\u6570\u7684\u65F6\u5019\u7B2C\u4E8C\u4E2A\u53EA\u80FD\u662F\n//\u5C5E\u6027\uFF0C\n//6,\u5982\u679C\u8D85\u8FC7\u4E09\u4E2A\u53C2\u6570\uFF0C\u540E\u9762\u7684\u90FD\u662F\u513F\u5B50\n\nexport function h\n(type, propsOrChildren?, children?) {\n  let l = arguments.length //\u53C2\u6570\u7684\u603B\u4E2A\u6570\n\n  if(l === 2) {\n    if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\n        //\u662F\u5BF9\u8C61\u4F46\u4E0D\u662F\u6570\u7EC4, \u8BF4\u660E\u662F h(h1, \u865A\u62DF\u8282\u70B9|\u5C5E\u6027)\n      if (isVnode(propsOrChildren)) {\n        //\u662F\u865A\u62DF\u8282\u70B9\n        return createVnode(type, null, [propsOrChildren])\n      }  else {//\u662F\u5C5E\u6027\n        return createVnode(type, propsOrChildren)\n      }\n    }\n    //\u513F\u5B50 \u662F\u6570\u7EC4 | \u6587\u672C\n    return createVnode(type, null, propsOrChildren)\n  } else {\n    if(l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n      // children = Array.from(arguments).slice(2)\n    } \n    if (l === 3 && isVnode(children)) { //\u53EA\u6709\u4E00\u4E2A\u513F\u5B50\n      children = [children]\n    }\n    //l = 3 || l = 1\n    return createVnode(type, propsOrChildren, children)\n  }\n}\n\n\n", "export default function getSquence(arr) {\n\n  let result = [0]\n  let len = arr.length\n  const p = result.slice(0)\n\n  for (let i = 0; i < len; i++) {\n    const arrI = arr[i]\n    if (arrI !== 0) {\n      //\u6700\u540E\u4E00\u9879\u548C\u5F53\u524D\u904D\u5386\u7684\u6570\u6765\u6BD4\u5BF9\n      let resultLast = arr[result[result.length - 1]] \n      if (arrI > arr[resultLast]) {\n        p[i] = result[result.length - 1]\n        result.push(i)\n      } else {\n        let left = 0\n        let right = length - 1\n        let middle = 0\n\n        while(left < right) {\n          middle = Math.floor((left + right) / 2)\n          if (arr[result[middle]] < arrI) {\n            left = middle + 1\n          } else {\n            right = middle\n          }  \n        }\n        if(arrI < arr[result[middle]]) {\n          p[i] = result[middle - 1]\n          result[middle] = i\n        }\n      }\n    }\n  }\n\n  let l = result.length\n  let last = result[l - 1]\n  while(l-- > 0) {\n    result[l] = last\n    last = p[last]\n  }\n  return result\n}\n//\u6839\u636E\u524D\u9A71\u8282\u70B9\u627E\u51FA\u6700\u957F\u7684\u5B50\u5E8F\u5217, \u56E0\u4E3A\u6700\u540E\u4E00\u9879\u4E0D\u4F1A\u9519\u8BEF,\n//\u4ECE\u800C\u627E\u51FA\u5B8C\u6574\u6B63\u786E\u7684\u5B50\u5E8F\u5217\n\n", "import { DirtyLevels } from \"./constants\"\n\n\nexport function effect(fn, options? ) {\n  //\u521B\u5EFA\u4E00\u4E2A\u54CD\u5E94\u5F0Feffect, \u6570\u636E\u53D8\u5316\u540E\u53EF\u4EE5\u91CD\u65B0\u6267\u884C\n\n  //\u521B\u5EFA\u4E00\u4E2Aeffect, \u53EA\u8981\u4F9D\u8D56\u7684\u5C5E\u6027\u53D8\u5316, \u5C31\u8981\u6267\u884C\u56DE\u8C03\n  const _effect = new ReactiveEffect(fn, () => {\n    _effect.run()\n  })\n  _effect.run()\n\n  if(options) {\n    Object.assign(_effect, options) //\u7528\u6237\u4F20\u9012\u7684\u8986\u76D6\u5185\u7F6E\u7684\n  }\n  const runner = _effect.run.bind(_effect)\n  runner._effect = _effect //\u4F7F\u5916\u90E8\u53EF\u4EE5\u8C03\u7528\n  return runner //\u5916\u754C\u53EF\u4EE5\u81EA\u5DF1\u8C03\u7528run\n}\n\nexport let activeEffect\n\nfunction preCleanEffect(effect) {\n  effect._depsLength = 0\n  effect._trackedId++//\u6BCF\u6B21\u6267\u884C, id\u90FD\u662F+1\n  //\u5982\u679C\u5728\u540C\u4E00\u4E2Aeffect\u4E2D, \u540C\u4E00\u79CD\u6570\u636E\u591A\u6B21\u8C03\u7528, id\u5C31\u662F\u76F8\u540C\u7684\n}\n\nfunction postCleanEffect(effect) {\n  //\u6E05\u7406\u591A\u4F59\u7684\u957F\u5EA6\n  if (effect.deps.length > effect._depsLength) {\n    for (let i = effect._depsLength; i < effect.deps.length; ++i) {\n     cleanDepEffect(effect.deps[i], effect)\n    }\n    effect.deps.length = effect._depsLength\n  }\n}\n\n export class ReactiveEffect{\n  _trackedId = 0 //\u7528\u4E8E\u8BB0\u5F55\u5F53\u524Deffect\u6267\u884C\u4E86\u51E0\u6B21\n  deps = [] // \u6570\u7EC4\uFF0C\u7528\u6765\u5B58\u50A8\u8FD9\u4E2A effect \u6240\u4F9D\u8D56\u7684\u6240\u6709 dep (Map)\n  _depsLenhth = 0\n  _running = 0 //\u5224\u65AD\u76D1\u542C\u65F6\u503C\u662F\u5426\u53D1\u751F\u6539\u53D8\n  _dirtyLevel = DirtyLevels.Dirty //\u810F\u503C\n\n  public active = true //\u521B\u5EFA\u7684effect\u662F\u54CD\u5E94\u5F0F\u7684\n  //fn : \u7528\u6237\u7F16\u5199\u7684\u51FD\u6570\n  //\u5982\u679Cfn\u4E2D\u4F9D\u8D56\u7684\u6570\u636E\u53D1\u751F\u53D8\u5316\u540E, \u9700\u8981\u91CD\u65B0\u8C03\u7528 run()\n  constructor(public fn, public scheduler) { }\n\n  public get dirty() {\n    return this._dirtyLevel === DirtyLevels.Dirty\n  }\n  //\u8BBF\u95EE\u65F6, \u4E3A\u810F\u5C31\u8FD4\u56DEtrue\n  //\u8BBE\u7F6E\u65F6, \u4E3Atrue\u5C31\u662F\u810F\u7684\n  public set dirty(value) {\n    this._dirtyLevel = value ? DirtyLevels.Dirty : DirtyLevels.NoDirty\n  }\n\n  run() {// \u8BA9fn\u6267\u884C\n    // \u6BCF\u6B21\u8FD0\u884C\u540E, \u6B64\u503C\u5C31\u4E0D\u810F\u4E86, \u5728\u8FD9\u6B21effect\u4E2D\u4E0D\u5728\u6267\u884C\n    this._dirtyLevel = DirtyLevels.NoDirty\n\n    if (!this.active) { //\u4E0D\u662F\u6FC0\u6D3B\u7684\n      return this.fn()\n    }\n    let lastEffect = activeEffect\n    try {\n      activeEffect = this\n\n      //effect\u91CD\u65B0\u6267\u884C\u524D, \u9700\u8981\u5C06\u4E0A\u4E00\u6B21\u7684\u4F9D\u8D56\u60C5\u51B5\u5220\u9664\n      preCleanEffect(this) //\u521D\u59CB\u5316id\u548Clength\n\n      this._running++ //\u503C\u4E0D\u4E3A0, \u9700\u8981\u5C4F\u853D\u6B63\u5728\u8FD0\u884C\u7684effect\n      //\u9632\u6B62\u6570\u636E\u5728effect\u4E2D\u53D8\u5316\u9020\u6210\u6B7B\u5FAA\u73AF\n      return this.fn()\n    } finally {\n      this._running--//\u7ED3\u675F\u8FD0\u884C\n      postCleanEffect(this)\n      activeEffect = lastEffect\n    }\n  }\n  stop() { //\u5173\u95ED\u54CD\u5E94\u5F0F\n    if (this.active) {\n      this.active = false\n      preCleanEffect(this)\n      postCleanEffect(this)\n    }\n    this.active = false\n  }\n}\n\nfunction cleanDepEffect(dep, effect) {\n  dep.delete(effect)\n  if (dep.size === 0) {\n    dep.cleanup() //map\u4E3A\u7A7A, \u5220\u9664\n  }\n}\n\n//\u53CC\u5411\u8BB0\u5FC6\nexport function trackEffect(effect, dep) {\n  // debugger\n  //\u9700\u8981\u91CD\u65B0\u6536\u96C6\u4F9D\u8D56, \u5C06\u4E0D\u9700\u8981\u7684\u79FB\u9664\n\n  //\u5982\u679C\u8FD9\u4E2A\u6570\u4E4B\u524D\u6CA1\u6709\u88AB\u76D1\u6D4B, \u6216\u5728\u4E4B\u524D\u7684effect\u68C0\u6D4B\u8FC7\n  //\u66F4\u65B0id\u503C\n  //\u5982\u679C\u662F\u540C\u4E00\u4E2Aeffect\u91CC\u9762\u91CD\u590D\u51FA\u73B0\u7684\u503C, id\u503C\u76F8\u540C\n  if (dep.get(effect) !== effect._trackedId) {\n    dep.set(effect, effect._trackedId)\n  } \n  //efect\u4E0Edep\u5173\u8054\n  let oldDep = effect.deps[effect._depsLength]\n\n  if (oldDep !== dep) {//\u6CA1\u5B58\u8FC7\n    //\u5220\u9664\u8001\u7684\u6362\u65B0\u7684\n    if (oldDep) {\n      cleanDepEffect(oldDep, effect)\n    }\n   effect.deps[effect._depsLength++] = dep\n  } else {\n    effect._depsLength++\n  }\n}\n\nexport function triggerEffects(dep) {\n\n  for (const effect of dep.keys()) {\n\n    //\u5F53\u524D\u8FD9\u4E2A\u503C\u662F\u4E0D\u810F\u7684, \u4F46\u662F\u89E6\u53D1\u66F4\u65B0\u9700\u8981\u5C06\u503C\u53D8\u4E3A\u810F\u503C\n    //\u5C5E\u6027\u4F9D\u8D56\u4E86\u8BA1\u7B97\u5C5E\u6027, \u9700\u8981\u8BA9\u8BA1\u7B97\u5C5E\u6027\u7684dirty\u521D\u59CB\u5316\n    if (effect._dirtyLevel < DirtyLevels.Dirty) {\n      effect._dirtyLevel = DirtyLevels.Dirty\n    }\n\n    if (!effect._running) {\n      if(effect.scheduler) {\n        effect.scheduler()//\u4E0D\u662F\u6B63\u5728\u6267\u884C, \u624D\u80FD\u6267\u884C\n        //\u5426\u5219\u6613\u9020\u6210\u6B7B\u5FAA\u73AF\n      }\n    }\n  }\n}", "import { \n    activeEffect, \n    trackEffect,\n    triggerEffects \n  } from \"./effect\";\n\nconst targetMap = new WeakMap()//\u5B58\u653E\u4F9D\u8D56\u6536\u96C6\u7684\u5173\u7CFB\n\nexport const createDep = (cleanup, key) => {\n  const dep = new Map() as any\n  dep.cleanup = cleanup\n  dep.name = key\n  return dep\n}\n\nexport function track(target, key) {\n\n//activeEffect\u6709\u8FD9\u4E2A\u5C5E\u6027\u8BF4\u660E\u8FD9\u4E2Akey\u5B9E\u5728effect\u4E2D\u8BBF\u95EE\u7684\n//\u6CA1\u6709\u5219\u8BF4\u660E\u5728effect\u4E4B\u5916\u8BBF\u95EE\u7684\u4E0D\u7528\u8FDB\u884C\u6536\u96C6\n  if (activeEffect) {\n \n    let depsMap = targetMap.get(target)\n\n    if(!depsMap) { //\u65B0\u589E\u7684\n      targetMap.set(target, depsMap = new Map())\n    }\n\n    let dep = depsMap.get(key)\n\n    if (!dep) { //\u6E05\u7406\u4E0D\u9700\u8981\u7684\u5C5E\u6027\n      depsMap.set(\n        key,\n        dep = createDep(() => {depsMap.delete(key)}, key)\n      )\n    }\n    //\u5C06\u5F53\u524D\u7684effect\u653E\u5165\u5230dep(\u6620\u5C04\u8868)\u4E2D,\n    // \u540E\u7EED\u53EF\u4EE5\u6839\u636E\u503C\u7684\u53D8\u5316\u89E6\u53D1\u6B64dep\u4E2D\u5B58\u653E\u7684effect\n    trackEffect(activeEffect, dep)\n  }\n}\n\n\nexport function trigger \n  (target, key, newValue, oldValue) {\n  //\u662F\u5426\u5B58\u653E\u6709\u5173\u4F9D\u8D56\n  const despMap = targetMap.get(target)\n\n  // console.log('despMap', despMap)\n  if(!despMap) { //\u627E\u4E0D\u5230\u5BF9\u8C61, \u76F4\u63A5return\n    // console.log('ok')\n    return\n  }\n  let dep = despMap.get(key)\n  if (dep) {\n    //\u4FEE\u6539\u7684\u5C5E\u6027\u5BF9\u5E94\u4E86effect\n    triggerEffects(dep)\n  }\n}\n\n", "\nimport { track, trigger } from \"./reactiveEffect\"\nimport { isObject } from \"@vue/shared\"\nimport { reactive } from \"./reactive\"\nimport { ReactiveFlags } from './constants'\n\n//proxy\u9700\u8981\u642D\u914Dreflect\u4F7F\u7528, \u5C06this\u6307\u5411\u4EE3\u7406\u5BF9\u8C61\n\n//ProxyHandler\u662FJavaScript\u4E2D\u4E00\u4E2A\u4E13\u95E8\u7528\u4E8E\n//\u5B9A\u4E49 Proxy \u884C\u4E3A\u7684 \u63A5\u53E3\uFF08\u6216\u7C7B\u578B\uFF09\nexport const mutableHandlers: ProxyHandler<any> = {\n  get(target, key, recevier) {\n    if (key === ReactiveFlags.IS_REACTIVE) {\n      return true\n    }\n    // debugger\n    track(target, key) \n    //\u6536\u96C6\u8FD9\u4E2A\u5BF9\u8C61\u4E0A\u7684\u8FD9\u4E2A\u5C5E\u6027, \u548Ceffect\u5173\u8054\u5728\u4E00\u8D77\n\n    //\u5F53\u53D6\u503C\u7684\u65F6\u5019, \u5E94\u8BE5\u8BA9\u54CD\u5E94\u5F0F\u5C5E\u6027 \u548C effect \u6620\u5C04\u8D77\u6765\n    let res = Reflect.get(target, key, recevier)\n    \n    //\u5F53\u53D6\u503C\u4E3A\u5BF9\u8C61\u65F6, \u9700\u8981\u518D\u5BF9\u8FD9\u4E2A\u5BF9\u8C61\u8FDB\u884C\u4EE3\u7406\n    if (isObject(res)) {\n      return reactive(res)\n    }\n    return res\n  },\n  set(target, key, value, recevier) {\n    //\u627E\u5230\u5C5E\u6027, \u8BA9effect\u91CD\u65B0\u6267\u884C\n    let oldValue = target[key]\n\n    let result = Reflect.set(target, key,value, recevier)\n   \n    if (oldValue !== value) {\n      //\u9700\u8981\u89E6\u53D1\u66F4\u65B0\n      trigger(target, key, value, oldValue)\n    }\n    return result\n  }\n}", "import { isObject } from \"@vue/shared\"\nimport { mutableHandlers } from \"./baseHandler\"\nimport { ReactiveFlags } from './constants'\n\n\n//\u7528\u4E8E\u8BB0\u5F55\u6211\u4EEC\u7684\u4EE3\u7406\u540E\u7684\u7ED3\u679C , \u53EF\u4EE5\u590D\u7528\nconst reactiveMap = new WeakMap()\n\nexport function reactive(target) {\n\n  return createReactiveObject(target)\n}\n\nexport function shallowReactive(target) {\n  return createReactiveObject(target,)\n}\n\nfunction createReactiveObject(target) {\n  //\u7EDF\u4E00\u5224\u65AD, \u54CD\u5E94\u5F0F\u5BF9\u8C61\u5FC5\u987B\u662F\u5BF9\u8C61\n  if (!isObject(target)) {\n    return target\n  }\n\n  if (target[ReactiveFlags.IS_REACTIVE]) {\n    return target\n  }\n\n  //\u5982\u679C\u6709\u76F4\u63A5\u53D6\u7F13\u5B58\n  const existProxy = reactiveMap.get(target)\n  if(existProxy) {\n    return existProxy\n  }\n\n  const proxy = new Proxy(target, mutableHandlers)\n  //\u6839\u636E\u5BF9\u8C61 \u7F13\u5B58\u4EE3\u7406\u540E\u7684\u7ED3\u679C\n  reactiveMap.set(target, proxy)\n  return proxy\n}\n\nexport function toReactive(value) {\n  return isObject(value) ? reactive(value) : value\n}\n\nexport function isReactive(value) {\n  //!!\u8F6C\u6362\u6210boolean\u7C7B\u578B\n  return !!(value && value[ReactiveFlags.IS_REACTIVE])\n}", "import { toReactive } from \"./reactive\"\nimport { \n  activeEffect, \n  trackEffect,\n  triggerEffects } from \"./effect\"\nimport {createDep} from './reactiveEffect'\n\n\nexport function ref(value) {\n  return createRef(value)\n}\n\nfunction createRef(value) {\n  return new RefImpl(value)\n}\n\n\nclass RefImpl {\n  public __v_isRef = true //\u589E\u52A0ref\u6807\u8BC6\n  public _value //\u7528\u6765\u4FDD\u5B58\u672C\u6B21ref\u7684\u503C\n  public dep //\u6536\u96C6\u5BF9\u5E94\u7684effect\n\n  constructor(public rawValue) {\n    this._value = toReactive(rawValue)\n  }\n  get value() {\n    trackRefValue(this) //\u4F9D\u8D56\u6536\u96C6\n    return this._value\n  }\n  set value(newValue) {\n    if (newValue !== this.rawValue) {\n      this.rawValue = newValue \n      this._value = newValue\n\n      triggerRefValue(this)//\u89E6\u53D1\u66F4\u65B0\n    }\n  }\n}\n\nexport function trackRefValue(ref) {\n  if (activeEffect) {\n    trackEffect(\n      activeEffect,\n      ref.dep = ref.dep || createDep(()=>ref.dep = undefined, 'undefined')\n    )\n  }\n}\n\nexport function triggerRefValue(ref) {\n  let dep = ref.dep\n  if (dep) {\n   triggerEffects(dep)//\u89E6\u53D1\u4F9D\u8D56\u66F4\u65B0\n  }\n}\n\nclass ObjectRefImp{\n  public __v_isRef = true //\u589E\u52A0ref\u6807\u8BC6\n  constructor(public _object, public _key) {\n\n  }\n  get value() {\n    return this._object[this._key]\n  }\n  set value(newValue) {\n    this._object[this._key] = newValue\n  }\n}\n\nexport function toRef(object, key) {\n\n  return new ObjectRefImp(object, key)\n}\n\nexport function toRefs(object) {\n  const res = {}\n  for (let key in object) { //\u6328\u4E2A\u5C5E\u6027\u8C03\u7528toRef\n    res[key] = toRef(object, key)\n  }\n  return res\n}\nexport function proxyRefs(objectWithRef) {\n    return new Proxy(objectWithRef, {\n      get(target, key , recevier) {\n        let r = Reflect.get(target, key, recevier)\n        //\u81EA\u52A8\u8131ref\n        return r.__v_isRef ? r.value : r\n      },\n      set(target, key , value, recevier) {\n        const oldValue = target[key]\n        if (oldValue.__v_isRef) { //\u5982\u679C\n          oldValue.value = value\n          return true\n        } else {\n          return Reflect.set(target, key , value, recevier)\n        }\n      }\n    })\n}\n\nexport function isRef(value) {\n  return !!(value && value.__v_isRef)\n}", "import { isFunction } from \"@vue/shared\";\nimport { ReactiveEffect } from \"./effect\";\nimport {trackRefValue, triggerRefValue} from './ref'\n\n\nexport function computed(getterOroptions) {\n    let onlyGetter = isFunction(getterOroptions) \n\n    let getter \n    let setter\n    if (onlyGetter) {\n      getter = getterOroptions\n      setter = () => {}\n    } else {\n      getter = getterOroptions.get\n      setter = getterOroptions.set\n    }\n    return new ComputedRefImpl(getter, setter)\n}\n\nclass ComputedRefImpl {\n  public _value\n  public effect\n  public dep\n\n  constructor(getter, public setter) {\n    //\u521B\u5EFA\u4E00\u4E2Aeffect\u6765\u5173\u8054\u5F53\u524D\u8BA1\u7B97\u5C5E\u6027\u7684dirty\u5C5E\u6027\n\n    this.effect = new ReactiveEffect(\n      () => getter(this._value),  //\u7528\u6237\u7684fn\n      () => {\n        //\u8BA1\u7B97\u5C5E\u6027\u89E6\u53D1\u540E, \u91CD\u65B0\u6E32\u67D3\n        triggerRefValue(this)\n    })\n  }\n  get value() {//\u8BA9\u8BA1\u7B97\u5C5E\u6027\u6536\u96C6\u5BF9\u5E94\u7684effect\n    // debugger\n    if (this.effect.dirty) { //\u9ED8\u8BA4\u53D6\u503C, \u4E00\u76F4\u662F\u810F\u7684, \u4F46\u6267\u884C\u4E00\u6B21run\u540E\u4E0D\u810F\u4E86\n      this._value = this.effect.run()\n    \n      trackRefValue(this)\n      //\u5982\u679C\u5F53\u524D\u5728effect\u4E2D\u8BBF\u95EE\u4E86\u8BA1\u7B97\u5C5E\u6027, \u8BA1\u7B97\u5C5E\u6027\u53EF\u4EE5\u6536\u96C6\u8FD9\u4E2Aeffect\n    } \n    return this._value\n  }\n  set value(v) {\n    this.setter(v)\n  }\n}\n\n\n\n", "import { isFunction, isObject } from \"@vue/shared\"\nimport { isReactive } from \"./reactive\"\nimport { ReactiveEffect } from './effect'\nimport { isRef } from \"./ref\"\n\nexport function watch\n(source, cb, options = {} as any) {\n  // debugger\n  //watchEffect\u4E5F\u662F\u57FA\u4E8EdoWtch\u5B9E\u73B0\u7684\n  return doWatch(source, cb, options)\n}\n\nexport function watchEffect(source, options = {} as any) {\n  return doWatch(source , null, options)\n}\n\n//\u63A7\u5236 currentDepth \u5DF2\u7ECF\u904D\u5386\u5230\u4E86\u54EA\u4E00\u5C42\nfunction traverse\n(source, depth, currentDepth = 0, seen = new Set()) {\n  if (!isObject(source)) {\n    return\n  }\n  if (depth) {\n    if (depth <= currentDepth) {\n      return source\n    }\n    currentDepth++ //\u6839\u636Edeep\u5C5E\u6027\u6765\u770B\u6DF1\u5EA6\n  }\n  if(seen.has(source)) {\n    return source\n  }\n\n  for (let key in source) {\n    traverse(source[key], depth, currentDepth, seen)\n  }\n  return source\n}\n\nfunction doWatch(source, cb, { deep, immediate }) {\n\n  //\u5C06source\u961F\u5F62\u4E2D\u7684\u6570\u8F6C\u6210getter\u53EF\u4EE5\u62FF\u5230\u7684\u5F62\u5F0F\n  const reactiveGetter = (source) => \n    traverse(source, deep === false ? 1 : undefined)\n  //\u4EA7\u751F\u4E00\u4E2A\u53EF\u4EE5\u7ED9ReactiveEffect \u6765\u4F7F\u7528\u7684getter\n  //\u9700\u8981\u5BF9\u8FD9\u4E2A\u5BF9\u8C61\u8FDB\u884C\u53D6\u503C\u64CD\u4F5C, \u4F1A\u5173\u8054\u5F53\u524D\u7684reactiveEffect\n  let getter \n  if(isReactive(source)) {\n    // console.log('reactive')\n    getter = () => reactiveGetter(source)\n  } else if (isRef(source)) {\n    // console.log('ref')\n    getter = () => source.value\n  } else if (isFunction(source)) {\n    // console.log('function')\n    getter = source\n  }\n\n  let oldValue\n\n  let clean\n  const onCleanup = (fn) => {\n    clean = () => {\n      fn()\n      clean = undefined\n    }\n  }\n\n  const job = () => {\n    if (cb) {\n      // debugger\n      const newValue = effect.run()\n\n      if (clean) {\n        clean()\n      }\n      cb(newValue, oldValue, onCleanup)\n      oldValue = newValue\n    } else {\n      effect.run()\n    }\n  }\n\n  const effect = new ReactiveEffect(getter, job)\n\n  if (cb) {\n\n    if (immediate) { //\u5148\u6267\u884C\u4E00\u6B21\u56DE\u8C03, \u4F20\u9012\u65B0\u503C\u548C\u8001\u503C\n      job()\n    } else {\n      oldValue =  effect.run()\n    }\n  } else { //watchEffect\n    effect.run()\n  }\n\n    const unwatch = () => {\n      effect.stop()\n    }\n    return unwatch\n}\n\n\n\n\n", "\nconst queue = [] //\u7F13\u5B58\u5F53\u524D\u8981\u6267\u884C\u7684\u961F\u5217\n\nlet isFlushing = false\nconst resolvePromise = Promise.resolve()\n\n//\u5982\u679C\u5728\u4E00\u4E2A\u72B6\u6001\u4E2D\u8DDF\u65B0\u591A\u4E2A\u72B6\u6001, job\u4E3A\u540C\u4E00\u4E2A\n//\u540C\u65F6\u5F00\u542F\u4E00\u4E2A\u5F02\u6B65\u4EFB\u52A1\nexport default function queueJob (job) {\n  // console.log(job, 'job')\n  if (!queue.includes(job)) { //\u53BB\u91CD\n    queue.push(job) //\u8BA9\u4EFB\u52A1\u5165\u961F\u5217\n  }\n\n  if(!isFlushing) {\n    isFlushing = true\n\n   resolvePromise.then(() => {\n    isFlushing =  false\n    const copy = queue.slice(0) //\u5148\u62F7\u8D1D\u518D\u6267\u884C\n    queue.length = 0\n    copy.forEach(job => job())\n    copy.length = 0\n    })\n  }\n}\n\n//\u901A\u8FC7\u4E8B\u4EF6\u73AF\u7684\u673A\u5236, \u5EF6\u8FDF\u66F4\u65B0\u64CD\u4F5C, \n// \u5148\u6267\u884C\u540C\u6B65\u4EFB\u52A1,\u5728\u6267\u884C\u5FAE\u4EFB\u52A1\n", "import { proxyRefs, reactive } from \"@vue/reactivity\"\nimport { hasOwn, isFunction, ShapeFlags } from \"@vue/shared\"\nimport { onMounted } from \"./apiLifecycle\"\n\nexport  function createComponentInstance(vnode, parent) {\n\n  const instance = {\n    data: null, //\u72B6\u6001\n    vnode, //\u7EC4\u4EF6\u7684\u865A\u62DF\u8282\u70B9\n    subTree: null, //\u5B50\u6811\n    isMounted: false, // \u662F\u5426\u6302\u8F7D\u5B8C\u6210\n    update: null ,//\u7EC4\u4EF6\u7684\u66F4\u65B0\u7684\u51FD\u6570\n    props: {}, //\u54CD\u5E94\u5F0F, \u65B9\u4FBF\u5F00\u53D1\n    attrs: {}, //\n    propsOptions: vnode.type.props, \n    //\u7528\u6237\u58F0\u660E\u7684\u54EA\u4E9B\u5C5E\u6027\u662F\u7EC4\u4EF6\u7684\u5C5E\u6027\n    component: null,\n    proxy: null, //\u4EE3\u7406attrs, props, data, \u65B9\u4FBF\u4F7F\u7528\n    setupState: {}  ,\n    slots: {},\n    exposed: null,\n    parent,\n    provides: parent ? parent.provides : Object.create(null)\n  }\n  return instance\n  \n}\n\nconst publicProperty = {\n  $attrs: (instance) => instance.attrs,\n  $slots: (instance) => instance.slots,\n}\n\nconst handler = {\n  get(target, key) {\n\n    const {data, props, setupState} = target\n    if (data && hasOwn(data, key)) {\n      return data[key]\n    } else if (props && hasOwn(props, key)) {\n        return props[key]\n    } else if (setupState && hasOwn(setupState, key)) {\n      return setupState[key]\n    }\n\n    const getter = publicProperty[key] \n    //\u901A\u8FC7\u4E0D\u540C\u7684\u7B56\u7565\u6765\u8BBF\u95EE\u5BF9\u5E94\u7684\u65B9\u6CD5\n    if (getter) {\n      return getter(target)\n    }\n  },\n\n  set(target, key, value) {\n    const {data, props, setupState} = target\n    if (data && hasOwn(data, key)) {\n      data[key] = value\n    } else if (props && hasOwn(props, key)) {\n        console.log(\"cant't set props\")\n        return false\n    } else if (setupState && hasOwn(setupState, key)) {\n       setupState[key] = value\n    }\n    return true\n  }\n}\n\nexport function initSlots(instance, children) {\n\n  if (instance.vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\n    instance.slots = children\n  } else {\n    instance.slots = {}\n  }\n\n}\nexport function setupComponent(instance) {\n\n  const { vnode } = instance\n  //\u8D4B\u503C\u5C5E\u6027\n  initProps(instance, vnode.props)\n  //\u8D4B\u503C\u63D2\u69FD\n  initSlots(instance, vnode.children)\n  // debugger\n  //\u8D4B\u503C\u4EE3\u7406\u5BF9\u8C61\n  instance.proxy = new Proxy(instance, handler)\n\n  const { data = () => {}, render, setup} = vnode.type\n    // console.log(setup)\n    // debugger\n  if (setup) {\n\n    const setupContext = {\n\n      slots: instance.slots,\n      attrs: instance.attrs,\n      expose(value) {\n\n        instance.exposed = value\n      },\n      emit(event, ...payload) {\n        //\u5C06\u4E8B\u4EF6\u540D\u7B2C\u4E00\u4E2A\u5B57\u6BCD\u8F6C\u6210\u5927\u5199\n        const eventName = `on${event[0].toUpperCase() + event.slice(1)}`\n        \n        const handler = instance.vnode.props[eventName]\n\n        handler && handler(...payload)\n      }\n    }\n\n    setCurrentInstance(instance)\n    const setupResult = setup(instance.props, setupContext)\n    unsetCurrentInstance()\n\n    \n    if (isFunction(setupResult)) {\n      instance.render = setupResult\n    } else {\n      //\u5C06\u8FD4\u56DE\u7684\u503C\u505A\u8131ref\n      instance.setupState = proxyRefs(setupResult)\n    }\n  }\n\n    if (!isFunction(data)) {\n      console.warn(\"data option must be a function\")\n    } else {\n      //data\u4E2D\u53EF\u4EE5\u62FF\u5230props\n      instance.data = reactive(data.call(instance.proxy))\n      // console.log(instance.data, 'data')\n    }\n    if(!instance.render) {\n      instance.render = render\n    }\n}\n\n//\u521D\u59CB\u5316\nconst initProps = (instance, rawProps) => {\n\n  const props = {}\n  const attrs = {}\n  const propsOptions = instance.propsOptions || {}\n\n  if (rawProps) {\n    for (let key in rawProps) {\n      const value = rawProps[key]\n      if (key in propsOptions) {\n        props[key] = reactive(value) //props\u4E0D\u9700\u8981\u6DF1\u5EA6\u89E3\u6784, \u7EC4\u4EF6\u4E0D\u80FD\u66F4\u6539props\n      } else {\n        attrs[key] = value\n      }\n    }\n  }\n  instance.attrs = attrs\n  instance.props = reactive(props)\n}\n\nexport let currentInstance = null\nexport const getCurrentInstance = () => {\n  return currentInstance\n}\n\nexport const setCurrentInstance = (instance) => {\n  currentInstance = instance\n}\n\nexport const unsetCurrentInstance = () => {\n  currentInstance = null\n}", "import { \n  currentInstance, \n  setCurrentInstance, \n  unsetCurrentInstance \n} from \"./component\"\n\nexport const enum LifeCycle {\n  BEFORE_MOUNT = \"bm\",\n  MOUNTED = \"m\",\n  BEFORE_UPDAATE = \"bu\",\n  UPDATED = \"u\"\n}\n\nfunction createHook(type) {\n  //\u5C06\u5F53\u524D\u7684\u5B9E\u4F8B\u5B58\u5230\u4E86\u6B64\u94A9\u5B50\u4E0A\n  return (hook, target = currentInstance) => {\n\n    if(target) {\n      //\u5F53\u524D\u94A9\u5B50\u662F\u5728\u7EC4\u4EF6\u4E2D\u8FD0\u884C\u7684\n      //\u770B\u5F53\u524D\u94A9\u5B50\u662F\u5426\u5B58\u653E, \u53D1\u5E03\u8BA2\u9605\n  \n      const hooks = \n      (target[type] || (target[type] = []))\n    \n      //\u8BA9currentInstance \u5B58\u5230\u8FD9\u4E2A\u51FD\u6570\u4E2D\n      const wrapHook = () => {\n        //\u5728\u94A9\u5B50\u6267\u884C\u524D, \u5BF9\u5B9E\u4F8B\u8FDB\u884C\u6821\u51C6\n        setCurrentInstance(target)\n        hook.call(target)\n        unsetCurrentInstance()\n      }\n      //\u5728\u6267\u884C\u51FD\u6570\u5185\u90E8\u4FDD\u8BC1\u5B9E\u4F8B\u65F6\u6B63\u786E\u7684\n      hooks.push(wrapHook) \n      //setup\u6267\u884C\u5B8C\u540E, \u4F1A\u5C06instance\u6E05\u7A7A\n    }\n  }\n}\n\nexport const onBeforeMount = \ncreateHook(LifeCycle.BEFORE_MOUNT)\n\nexport const onMounted = \ncreateHook(LifeCycle.MOUNTED)\n\nexport const onBeforeUpdate = \ncreateHook(LifeCycle.BEFORE_UPDAATE)\n\nexport const onUpdated = \ncreateHook(LifeCycle.UPDATED)\n\nexport function invokeArray(fns) {\n\n  for (let i = 0; i < fns.length; ++i) {\n    fns[i]()\n  }\n}\n\n\n\n\n\n", "import { ShapeFlags } from '@vue/shared'\nimport { \n  createVnode, \n  Fragment, \n  isSameVnode, \n  Text } from './createVnode'\nimport getSquence from './seq'\nimport { isRef, ReactiveEffect } from '@vue/reactivity'\nimport queueJob from './scheduler'\nimport { \n  createComponentInstance, \n  setupComponent \n} from './component'\nimport { invokeArray } from './apiLifecycle'\n\n//core\u4E0D\u5173\u5FC3\u5982\u4F55\u6E32\u67D3, \u53EF\u4EE5\u8DE8\u5E73\u53F0\nexport function createRenderer(renderOptions) {\n\n  const {\n    insert: hostInsert,\n    remove: hostremove,\n    createElement:hostCreateElement,\n    createText:hostCreateText,\n    setText:hostSetText,\n    setElementText:hostSetElementText,\n    parentNode:hostParentNode,\n    nextSibling:hostNextSibling,\n    patchProp:hostPatchProp,\n  } = renderOptions\n\n  const normalize = (children) => {\n    if (!Array.isArray(children)) children = [children]\n    \n    for (let i = 0; i < children.length; ++i) {\n      if (typeof children[i] === 'string' \n        || typeof children[i] === 'number') {\n          children[i] = createVnode(Text, null ,String(children[i]))\n      }\n    }\n    return children\n  }\n\n  const mountChildren = (children, container, parentComponent) => {\n  \n    normalize(children)\n    for (let i = 0; i < children.length; ++i) {\n      \n      let child = children[i]\n\n      patch(null, child, container, parentComponent)\n    }\n  }\n\n  const mountElement = (vnode, container, anchor, parentComponent) => {\n    // debugger\n    const {type, children, props, shapeFlag, transition} = vnode\n    //\u7B2C\u4E00\u6B21\u6E32\u67D3\u7684\u65F6\u5019\u8BA9\u865A\u62DF\u8282\u70B9\u548C\u771F\u5B9E\u7684dom\u5173\u8054, vnode.el = \u771F\u5B9Edom\n    //\u540E\u9762\u6E32\u67D3\u65F6, \u548C\u524D\u9762\u7684\u505A\u6BD4\u5BF9, \u66F4\u65B0\u5BF9\u5E94el\n\n    let el = (vnode.el = hostCreateElement(type))\n    \n\n    if(props) {\n      for (let key in props) {\n        //\u589E\u52A0\u5C5E\u6027\n        if (key === 'ref') continue\n        hostPatchProp(el, key, null, props[key])\n      }\n    }\n    //\u901A\u8FC7\u6309\u4F4D\u5F02\u6216\u6765\u8BA1\u7B97\u5F53\u524D\u503C\u662F\u5426\u5B58\u5728\n    //\u4F8B\u5982 9 & 8 > 0\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      hostSetElementText(el, children)\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n      mountChildren(children, el, parentComponent)\n    }\n\n    \n    if (transition) {\n      transition.beforeEnter(el)\n    }\n  \n    hostInsert(el, container, anchor)\n\n    if (transition) {\n      transition.enter(el)\n    }\n  }\n\n  const patchProps = (oldProps, newProps, el) => {\n    \n    //\u65B0\u7684\u5168\u90E8\u751F\u6548\n    for (let key in newProps) {\n      hostPatchProp(el, key, oldProps[key], newProps[key])\n    }\n    for (let key in  oldProps) {\n      if (!(key in newProps)) { //\u4EE5\u524D\u6709\u73B0\u5728\u6CA1\u6709\n        hostPatchProp(el, key, oldProps[key], null)\n      }\n    }\n  }\n\n  const unmountChildren = (children) => {\n\n    for(let i = 0; i < children.length; i++) {\n      let child = children[i]\n      unmount(child)\n    } \n  }\n\n  const patchKeyedChildren = (c1, c2, el) => {\n    //\u6BD4\u8F83\u4E24\u4E2A\u513F\u5B50\u7684\u5DEE\u5F02\u66F4\u65B0\n    //\u5728\u5934\u5C3E\u90E8\u589E\u52A0\u4E24\u4E2A\u6307\u9488, \u4ECE\u5934\u5F00\u59CB\u6BD4, \u518D\u4ECE\u4E3A\u6BD4, \u786E\u5B9E\u4E0D\u4E00\u6837\u7684\u8303\u56F4\n    //\u5982\u679C\u6709\u4E0D\u540C\u7684\u76F4\u63A5\u64CD\u4F5C\n\n    let i = 0 //\u5934\u6307\u9488, \u5F00\u59CB\u7684\u7D22\u5F15\n    let e1 = c1.length - 1 //\u5C3E\u6307\u9488, \u7B2C\u4E00\u4E2A\u6570\u7EC4\u7684\u5C3E\u90E8\u7D22\u5F15\n    let e2 = c2.length - 1 //\u7B2C\u4E8C\u4E2A\u6570\u7EC4\u7684\u5C3E\u90E8\n    // debugger\n    while(i <= e1 && i <= e2) {//\u8D85\u51FA\u5C31\u7ED3\u675F\n      const n1 = c1[i]\n      const n2 = c2[i]\n      if (isSameVnode(n1, n2)) {\n        //\u66F4\u65B0\u5F53\u524D\u7684\u8282\u70B9\u7684\u5C5E\u6027\u4F55\u513F\u5B50\n        patch(n1, n2, el)\n      } else {\n        break\n      }\n      i++\n    }\n\n    while(i <= e1 && i <= e2) {//\u8D85\u51FA\u5C31\u7ED3\u675F\n      const n1 = c1[e1]\n      const n2 = c2[e2]\n      if (isSameVnode(n1, n2)) {\n        //\u66F4\u65B0\u5F53\u524D\u7684\u8282\u70B9\u7684\u5C5E\u6027\u4F55\u513F\u5B50\n        patch(n1, n2, el)\n      } else {\n        break\n      }\n      e1--\n      e2--\n    }\n\n    if (i > e1) { //\u65B0\u7684\u591A\n      if ((i <= e2)) { //\u6709\u63D2\u5165\u7684\u90E8\u5206\n\n        let nextPos = e2 + 1\n\n        let anchor = c2[nextPos]?.el //\u951A\u70B9\n        \n        while(i <= e2) {\n          patch(null, c2[i], el, anchor)\n          ++i\n        }\n      }\n    } else if (i > e2) { //\u8001\u7684\u591A\n        while(i <= e1) { //\u628A\u8001\u7684\u90FD\u5220\u9664\n          if(Array.isArray(c1[i])) {\n            unmountChildren(c1[i])\n          } else {\n            unmount(c1[i])\n          } \n          ++i\n        }\n    } else { //\u4E2D\u95F4\u6BD4\u5BF9\n      //\u505A\u4E00\u4E2A\u6620\u5C04\u8868, \u8001\u6BD4\u5BF9\n      let s1 = i\n      let s2 = i\n\n      const keyToNewIndexMap = new Map()\n      let toBePatched = e2 - s2 + 1 //\u5012\u53D9\u63D2\u5165\u7684\u4E2A\u6570\n      //\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u7B49\u4E8EtoBePatched\u7684\u6570\u7EC4, \u7528\u6765\u6807\u8BB0\u6807\u8BB0\u662F\u5426\u88AB\u6807\u8BB0\n      let newIndexToOldIndex = new Array(toBePatched).fill(0)\n\n      for (let i = s2; i <= e2; ++i) {\n        const vnode = c2[i]\n        keyToNewIndexMap.set(vnode.key, i)\n      }\n      for (let i = s1; i <= e1; ++i) {\n        const vnode = c1[i]\n        const newIndex = keyToNewIndexMap.get(vnode.key)//\u901A\u8FC7key\u627E\u7D22\u5F15\n        \n        if(newIndex === undefined) {\n          //\u65B0\u7684\u91CC\u9762\u627E\u4E0D\u5230, \u5C31\u5220\u9664\n          unmount(vnode)\n        } else {\n          // console.log(newIndex - s2, i + 1)\n          newIndexToOldIndex[newIndex - s2] = i + 1 \n          //\u907F\u514D\u51FA\u73B00\u7684\u60C5\u51B5, \u4FDD\u8BC10\u662F\u6CA1\u6709\u6BD4\u5BF9\u7684\u60C5\u51B5\n          //\u6BD4\u8F83\u524D\u540E\u8282\u70B9\u7684\u5DEE\u5F02, \u66F4\u65B0\u5C5E\u6027\u548C\u513F\u5B50\n          patch(vnode, c2[newIndex], el)\n        }\n      }\n      // console.log(newIndexToOldIndex, '---')\n      //\u8C03\u6574\u987A\u5E8F\n      //\u6309\u7167\u65B0\u7684\u961F\u5217, \u5012\u5E8F\u63D2\u5165(\u901A\u8FC7insertBefore\u628A\u539F\u6765\u7684\u5143\u7D20\u5F80\u540E\u79FB)\n\n      //\u63D2\u5165\u8FC7\u7A0B\u4E2D, \u521B\u5EFA\u6CA1\u6709\u7684\u5143\u7D20\n     \n      //\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\n      let increasingSeq = getSquence(newIndexToOldIndex)\n     let j = increasingSeq.length - 1\n\n      for (let i = toBePatched - 1; i >= 0; --i) {\n        let nextIndex = s2 + i //h\u7684\u7D22\u5F15, \u627E\u4E0B\u4E00\u4E2A\u5143\u7D20\u4F5C\u4E3A\u53C2\u7167\u7269\n        let anchor = c2[nextIndex + 1]?.el\n        let vnode = c2[nextIndex]\n\n        if (!vnode.el) {\n          patch(null, vnode, el, anchor)\n         } else {\n          if (i == increasingSeq[j]) {\n            j--\n          }else {\n            hostInsert(vnode.el, el, anchor)\n          }\n        }\n      }\n    }\n  }\n\n  const patchChildren = (n1, n2, el, parentComponent) => {\n    const c1 = n1.children\n    const c2 = normalize(n2.children)\n\n    const preShapeFlag = n1.shapeFlag\n    const shapeFlag = n2.shapeFlag\n    //\u65B0\u65E7\u6587\u672C\u6709\u6587\u672C\u548C\u6570\u7EC4\u4E24\u79CD\u7C7B\u578B, \u5224\u65AD\u662F\u90A3\u79CD\u60C5\u51B5\n\n    //1.\u65B0\u7684\u662F\u6587\u672C\uFF0C\u8001\u7684\u662F\u6570\u7EC4\u79FB\u9664\u8001\u7684\uFF1A\n    //2.\u65B0\u7684\u662F\u6587\u672C\uFF0C\u8001\u7684\u4E5F\u662F\u6587\u672C\uFF0C\u5185\u5BB9\u4E0D\u76F8\u540C\u66FF\u6362\n    //3.\u8001\u7684\u662F\u6570\u7EC4\uFF0C\u65B0\u7684\u662F\u6570\u7EC4\uFF0Cdiff\u7B97\u6CD5\u5BF9\u6BD4\u66F4\u65B0\n    //4.\u8001\u7684\u662F\u6570\u7EC4\uFF0C\u65B0\u7684\u4E0D\u662F\u6570\u7EC4\uFF0C\u79FB\u9664\u8001\u7684\u5B50\u8282\u70B9\n    //5.\u8001\u7684\u662F\u6587\u672C\uFF0C\u65B0\u7684\u662F\u7A7A\n    //6.\u8001\u7684\u662F\u6587\u672C\uFF0C\u65B0\u7684\u662F\u6570\u7EC4\n\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) { //\u65B0\u7684\u662F\u6587\u672C \n      if (preShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        //\u8001\u7684\u662F\u6570\u7EC4, \u65B0\u7684\u662F\u6587\u672C\n        unmountChildren(c1)\n      }   \n       //\u65B0\u8001\u90FD\u662F\u6587\u672C, \u76F4\u63A5\u4FEE\u6539\n      if (c1 !== c2) {\n        hostSetElementText(el, c2) //\u6CE8\u610F\u662F\u6587\u672C\n      }\n     \n    } else {//\u65B0\u7684\u662F\u6570\u7EC4\u6216\u7A7A\n      if (preShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        //\u65B0\u8001\u90FD\u662F\u6570\u7EC4\n        //diff\u7B97\u6CD5, \u65B0\u8001\u5BF9\u6BD4\n        patchKeyedChildren(c1, c2, el)\n\n      } else {\n        //\u8001\u662F\u6587\u672C\n        if(preShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n          hostSetElementText(el, '')//\u6E05\u7A7A\u6587\u672C\n        }\n        //\u65B0\u4E0D\u662F\u7A7A\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          mountChildren(c2, el, parentComponent) //\u6302\u8F7D\u65B0\u6570\u7EC4\n        }\n      }\n    }\n  }\n\n  const patchElement = (n1, n2, container, parentComponent) => {\n    //\u6BD4\u8F83\u5DEE\u5F02, \u590D\u7528dom\u5143\u7D20\n    let el = n2.el = n1.el\n\n    let oldProps = n1.props || {}\n    let newProps = n2.props || {}\n    //hostPatchProp \u53EA\u9488\u5BF9\u67D0\u4E00\u4E2A\u5C5E\u6027\u6765\u5904\u7406\n    patchProps(oldProps, newProps, el)\n    patchChildren(n1, n2, el, parentComponent)\n  }\n\n  const processElement = (n1, n2, container, anchor, parentComponent) => {\n    if (n1 === null) { //\u7B2C\u4E00\u6B21\u6302\u8F7D, \u521D\u59CB\u5316\n      mountElement(n2, container, anchor, parentComponent)\n    } else {\n      //\u5BF9\u65E7\u8282\u70B9\u7684\u590D\u7528\n      patchElement(n1, n2, container, parentComponent)\n    }\n  }\n\n  const processText = (n1, n2, container) => {\n    if (n1 === null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container\n      )\n    } else {\n      // console.log(n2.el, n1.el)\n      const el = (n2.el = n1.el)\n      if(n1.children !== n2.children) {\n        hostSetText(el, n2.children)\n      }\n    }\n  }\n\n  const processFragment = (n1, n2, container, parentComponent) => {\n    if (n1 === null) {\n      mountChildren(n2.children, container, parentComponent)\n    } else {\n      patchChildren(n1, n2, container, parentComponent)\n    }\n  }\n\n  const updateComponentPreRender = (instance, next) => {\n    instance.next = null\n    instance.vnode = next\n    updateProps(instance, instance.props, next.props)\n\n    //  \u7EC4\u4EF6\u66F4\u65B0\u63D2\u69FD\n    Object.assign(instance.slots, next.children)\n  } \n\n  const renderComponent = (instance) => {\n    const {render, vnode, proxy, props, attrs, slots} = instance\n\n    if (vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n      return render.call(proxy, proxy)\n    } else {\n      return vnode.type(attrs, {slots}) //\u51FD\u6570\u5F0F\u7EC4\u4EF6\n    }\n  }\n\n  function setupRenderEffect(instance, container, anchor, parentComponent) {\n    const { render } = instance\n    \n    const componentUpdateFn = () => {\n\n      const {bm, m} = instance\n      const subTree = renderComponent(instance)\n      //\u533A\u5206\u6302\u8F7D\u72B6\u6001\n      if (!instance.isMounted) {\n        //onBeforeMount\n        if (bm) {\n          invokeArray(bm)\n        }\n\n        instance.subTree = subTree\n        patch(null, subTree, container, anchor, instance) //\u4ED6\u7684\u7236\u4E3Ainstance\n        instance.isMounted = true\n        instance.subTree = subTree\n\n        //Mounted\n        if(m) {\n          invokeArray(m)\n        }\n\n      } else {\n       const {next, bu, u} = instance\n       if (next) {\n        //\u66F4\u65B0\u5C5E\u6027\u6216\u63D2\u69FD\n        updateComponentPreRender(instance, next)\n       }\n       //onBeforeUpdate\n       if (bu) {\n        invokeArray(bu)\n       }\n\n        //\u57FA\u4E8E\u72B6\u6001\u7684\u7EC4\u4EF6\u66F4\u65B0\n        patch(instance.subTree, subTree, container, anchor, instance)\n        instance.subTree = subTree\n       //onUpdated\n        if (u) {\n          invokeArray(u)\n        }\n      }\n    }\n\n    const effect = \n      new ReactiveEffect(\n        componentUpdateFn, \n        () => queueJob(update)\n      )\n   \n    const update = (instance.update = () => effect.run())\n    \n    update()\n  }\n\n  const mountComponent = (vnode, container, anchor, parentComponent) => {\n    //1.\u5148\u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B, \u5E76\u653E\u5728\u865A\u62DF\u8282\u70B9\u4E0A\n    //2.\u7ED9\u5B9E\u4F8B\u7684\u5C5E\u6027\u8D4B\u503C\n    //3.\u521B\u5EFA\u4E00\u4E2Aeffect\n    const instance = \n    (vnode.component = createComponentInstance(\n      vnode,\n      parentComponent\n    ))\n\n    setupComponent(instance)\n\n    setupRenderEffect(instance, container, anchor, parentComponent)\n\n  }\n  //\u5224\u65AD\u662F\u5426\u6709\u6539\u53D8\n  const hasPropsChange = (preProps, nextProps) => {\n    let nKeys = Object.keys(nextProps)\n    if (\n      Object.keys(nextProps).length !== \n      Object.keys(preProps).length) {\n      return true\n    }\n    \n    for (let i = 0; i < nKeys.length; i++) {\n      const key = nKeys[i]\n\n      if (nextProps[key] !== preProps[key]) {\n        return true\n      }\n    }\n    return false\n  }\n  const updateProps = (instance, preProps, nextProps) => {\n    //\u7ED9\u5B9E\u4F8B\u7684\u5C5E\u6027\u8D4B\u4E00\u4E2A\u65B0\u503C\n    if (hasPropsChange(preProps, nextProps)) {\n      for(let key in nextProps) { //\u7528\u65B0\u7684\u8986\u76D6\u6240\u6709\u8001\u7684\n        instance.props[key] = nextProps[key]\n      }\n\n      for (let key in instance.props) {\n        if(!(key in nextProps)) { //\u5220\u9664\u591A\u4F59\u8001\u7684\n          delete instance.props[key]\n        }\n      }\n    }\n  }\n\n  const shouldComponentUpdate = (n1, n2) => {\n    const instance = (n2.component = n1.component)\n\n    //\u590D\u7528\u7EC4\u4EF6\u7684\u5B9E\u4F8B\n    const {props: preProps, children: preChildren} = n1\n    const {props: nextProps, children: nextChildren} = n2\n\n    //\u6709\u63D2\u69FD\u76F4\u63A5\u8D70\u91CD\u65B0\u6E32\u67D3\n    if (preChildren || nextChildren) return true\n\n    if(preProps === nextProps) return false\n    //\u5982\u679C\u5C5E\u6027\u4E0D\u4E00\u81F4\u5219\u66F4\u65B0\n    return hasPropsChange(preChildren, nextChildren)\n    // \u65B0\u8001\u66F4\u65B0\u5B9E\u4F8B //instance.component.proxy \n    // updateProps(instance, preProps, nextProps)\n  }\n  const updateComponent = (n1, n2) => {\n\n    const instance = (n2.component = n1.component)\n    \n    if (shouldComponentUpdate(n1, n2)) {\n      //\u5982\u679C\u6709next\u5C5E\u6027, \u8BF4\u660E\u662F\u5C5E\u6027\u6216\u63D2\u69FD\u66F4\u65B0\n      // debugger\n      instance.next = n2\n      instance.update() //\u66F4\u65B0\u7EDF\u4E00\n    }\n\n  }\n\n  const processComponent =\n   (n1, n2, container, anchor, parentComponent) => {\n\n    if (n1 === null) {\n\n      mountComponent(n2, container, anchor, parentComponent)\n    } else {\n      //\u7EC4\u4EF6\u66F4\u65B0\n      updateComponent(n1, n2)\n    }\n\n  }\n\n  const patch = \n  (n1, n2, container, anchor = null, parentComponent = null) => {\n    // console.log('2')\n    if(n1 === n2) { \n      //\u4E24\u6B21\u6E32\u67D3\u540C\u4E00\u4E2A\u5143\u7D20\u76F4\u63A5\u8DF3\u8FC7\n      return\n    }\n    if (n2 === null) {\n      if (n1) {\n        unmount(n1)\n      }\n      return\n    }\n\n    //\u79FB\u9664\u8001\u7684, \u5220\u9664\u65B0\u7684\n    if (n1 && !isSameVnode(n1, n2)) {\n     unmount(n1)\n     n1 = null //\u91CD\u65B0\u6302\u8F7D\u65B0\u7684\n    }\n    // debugger\n    const {type, shapeFlag, ref} = n2\n    switch(type) {\n      case Text: \n        processText(n1, n2, container)\n      break\n      case Fragment:\n        processFragment(n1, n2, container, parentComponent)\n        break\n      default:\n        if (shapeFlag & ShapeFlags.ELEMENT) {\n          processElement(n1, n2, container, anchor, parentComponent) //\u5BF9\u5143\u7D20\u5904\u7406\n        } else if (shapeFlag & ShapeFlags.TELEPORT) {\n          //\u7528\u6237\u624B\u52A8\u6E32\u67D3\n          type.process(\n            n1, n2, container, anchor, parentComponent, {\n              mountChildren,\n              patchChildren,\n              move(vnode, container, anchor) {\n                //\u6B64\u65B9\u6CD5\u53EF\u4EE5\u5C06\u5143\u7D20\u6216\u8005dom\u5143\u7D20\u79FB\u52A8\u5230\u6307\u5B9A\u7684\u4F4D\u7F6E\n                hostInsert(\n                  vnode.component \n                  ? vnode.component.subTree.el : vnode.el,\n                  container,\n                  anchor\n                )\n              }\n            })\n\n        } else if (shapeFlag & ShapeFlags.COMPONENT) {\n          //\u5BF9\u7EC4\u4EF6\u7684\u5904\u7406\n          //Vue3\u4E2D\u51FD\u6570\u5F0F\u7EC4\u4EF6\u5DF2\u7ECF\u5E9F\u5F03\u4E86, \u6CA1\u6709\u6027\u80FD\u8282\u7EA6\n          processComponent(n1, n2, container, anchor, parentComponent)\n        }\n        \n    }\n\n    if (ref !== null) {\n      //n2 \u662Fdom\u8FD8\u662F\u7EC4\u4EF6\n      setRef(ref, n2)\n    }\n  }\n  function setRef(rawRef, vnode) {\n    let value = vnode.shapeFlag & ShapeFlags.COMPONENT \n     ? vnode.component.exposed \n     || vnode.component.proxy\n     : vnode.el\n  \n     if (isRef(rawRef)) {\n      rawRef.value = value\n     }\n  }\n\n  const unmount = (vnode) => {\n     if(!vnode) return\n    const {shapeFlag, transition, el} = vnode\n\n    const performRemove = () => {\n      hostremove(vnode.el)\n    }\n    if (vnode.type === Fragment) {\n      unmountChildren(vnode.children)\n    } else if (shapeFlag & ShapeFlags.COMPONENT) {\n      if (vnode.component && vnode.component.subTree) {\n        unmount(vnode.component.subTree)\n      }\n    } else if (shapeFlag & ShapeFlags.TELEPORT) {\n      vnode.type.remove(vnode, unmountChildren)\n    } else {\n      \n      if (transition) {\n        transition.leave(el, performRemove)\n      } else \n      hostremove(vnode.el)\n    }\n  }\n  //\u591A\u6B21\u8C03\u7528render, \u4F1A\u8FDB\u884C\u865A\u62DF\u8282\u70B9\u7684\u6BD4\u8F83, \u8FDB\u884C\u66F4\u65B0\n  const render = (vnode, container) => {\n    //\u5C06\u865A\u62DF\u8282\u70B9\u53D8\u6210\u771F\u5B9E\u8282\u70B9\u8FDB\u884C\u6E32\u67D3\n\n    if (vnode === null) {//\u79FB\u9664\u865A\u62DF\u8282\u70B9\n      // if(container._vnode) \n        if (container._vnode) {\n          unmount(container._vnode)\n        }\n    } else {\n      patch(container._vnode || null, vnode, container)\n      //\u5C06\u8FD9\u6B21\u6E32\u67D3\u7684\u8282\u70B9\u5B58\u4E0B\u6765, \u4FBF\u4E8E\u4E0B\u6B21\u4FEE\u6539\n      container._vnode = vnode\n    }\n  }\n  return {\n    render\n  }\n}", "import { currentInstance } from \"./component\";\n\nexport function provide(key, value) {\n\n    //\u5B50\u7528\u7684\u662F\u7236, \u5B50\u63D0\u4F9B\u4E86\u987A\u5E8F\n   //\u5B50\u63D0\u4F9B\u65B0\u5C5E\u6027\u65F6, \u5E94\u8BE5\u62F7\u8D1D\u540E\u5728\u6DFB\u52A0, \u4E0D\u80FD\u6539\u53D8\u7236\u7684\u5C5E\u6027\n\n   if (!currentInstance) return //\u6CA1\u6709\u5EFA\u7ACB\u5728\u7EC4\u4EF6\u7684\u57FA\u7840\u4E0A\n\n   //\u83B7\u53D6\u7236\u7EC4\u4EF6\u7684provide\n   const parentProvide = currentInstance.parent?.provides\n\n   let provides = currentInstance.provides //\u5F53\u524D\u5B9E\u4F8B\u7684provide\n\n   //\u53EA\u6709\u7B2C\u4E00\u6B21\u8FDB\u6765\u624D\u80FD\u62F7\u8D1D, \u540E\u9762\u7684\u5BF9\u8C61\u5C06\u4E0D\u76F8\u540C\n   if (parentProvide === provides) {\n    //\u5982\u679C\u65B0\u589E, \u5219\u5728\u62F7\u8D1D\u540E\u7684\u5BF9\u8C61\u4E0A\u65B0\u589E\n    provides = currentInstance.provides = Object.create(provide)\n   }\n\n    provides[key] = value   \n}\n\nexport function inject(key, defaultValue) {\n\n  if (!currentInstance) return\n\n  const provides = currentInstance.parent?.provides\n  if (provides && key in provides) {\n    return provides[key]\n  } else {\n    return defaultValue //\u8FD4\u56DE\u9ED8\u8BA4inject\n  }\n\n}\n\n\n\n\n\n\n\n\n", "\n\nimport { h } from \"../h\"\n\n//\u4FDD\u8BC1\u8D77\u70B9\u52A8\u753B\u5728\u81F3\u5C11\u6267\u884C\u4E00\u5E27\u540E\u518D\u79FB\u9664\nfunction nextFram(fn) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(fn)\n  })\n}\n\nexport function resolveTranstionProps(props) {\n  const { \n    name = 'v', \n    enterFromClass = `${name}-enter-from`,\n    enterActiveCalss = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveCalss = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`,\n    onBeforeEnter,\n    onEnter,\n    onLeave,\n  } = props\n\n  return {\n    //\u4E0A\u9762props\u91CC\u7ED3\u6784\u7684\u65F6\u7528\u6237\u4F20\u5165\u7684\n    //return\u7684\u662F\u81EA\u5B9A\u4E49\u7684\n    onBeforeEnter(el) {\n      onBeforeEnter && onBeforeEnter()\n      el.classList.add(enterFromClass)\n      el.classList.add(enterActiveCalss)\n    },\n    onEnter(el, done) {\n\n      //\u7ED3\u675F\u65F6\u8C03\u7528resolve\n      const resolve = () => {\n        el.classList.remove(enterToClass)\n        el.classList.remove(enterActiveCalss)\n        el.removeEventListener(\"transitionend\", resolve) // \u79FB\u9664\u76D1\u542C\u5668\n        done && done()\n      }\n      onEnter && onEnter(el, resolve)\n\n      nextFram(() => { //\u4FDD\u8BC1\u52A8\u753B\u7684\u4EA7\u751F\n        //\u6DFB\u52A0\u540E, \u518D\u79FB\u9664, \u800C\u4E0D\u662F\u9A6C\u4E0A\u79FB\u9664\n        el.classList.remove(enterFromClass)\n        el.classList.add(enterToClass)\n        //\u5982\u679C\u7528\u6237\u6CA1\u6709\u4F20\u5165onEnter, \u6216\u8005\u6CA1\u6709\u4F20\u5165done\n        if (!onEnter || onEnter.length <= 1) {\n          el.addEventListener(\"transitionend\", resolve)\n        }\n      })\n    },\n    onLeave(el, done) {\n      //\u7ED3\u675F\u65F6\u8C03\u7528resolve\n      const resolve = () => {\n        el.classList.remove(leaveActiveCalss)\n        el.classList.remove(leaveToClass)\n        el.removeEventListener(\"transitionend\", resolve) //\u79FB\u9664\u76D1\u542C\u5668\n        done && done()\n      }\n      onLeave && onLeave(el, resolve)\n\n      el.classList.add(leaveFromClass)\n\n      document.body.offsetHeight //\u5F3A\u5236\u6D4F\u89C8\u5668\u91CD\u7ED8\n\n      el.classList.add(leaveActiveCalss)\n\n      nextFram(() => {\n        el.classList.remove(leaveFromClass)\n        el.classList.add(leaveToClass)\n\n        if (!onLeave || onLeave.length <= 1) {\n          el.addEventListener(\"transitionend\", resolve)\n        }\n      })\n    }\n  }\n\n}\n\nexport function Transition(props, {slots}) {\n \n  return h(\n    BaseTranstionImple, \n    resolveTranstionProps(props),\n    slots\n  )\n\n}\n\n\n//\u771F\u6B63\u7684\u7EC4\u4EF6 \u53EA\u9700\u8981\u6E32\u67D3\u7684\u65F6\u5019\u8C03\u7528\u5C01\u88C5\u540E\u7684\u94A9\u5B50\nconst BaseTranstionImple = {\n  props: {\n    onBeforeEnter: Function,\n    onEnter: Function,\n    onLeave: Function,\n  },\n  setup(props, {slots}) {\n    \n    return () => {\n      const vnode = slots.default && slots.default()\n\n      if (!vnode) {\n        return \n      }\n      //\u6E32\u67D3\u524D\n      // const oldVnode = instance.subTree \n      // //\u4E4B\u524D\u7684\u865A\u62DF\u8282\u70B9\n  \n      vnode.transition = {\n        beforeEnter: props.onBeforeEnter,\n        enter: props.onEnter,\n        leave: props.onLeave,\n      }\n      return vnode\n    }\n  },\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n", "import { ref } from '@vue/reactivity'\nimport { h } from './h'\nimport { isFunction } from '@vue/shared'\n\nexport function defineAsyncComponent (options) {\n\n  if (isFunction(options)) {\n    options = {loader: options}\n  }\n\n  return {\n    setup() {\n      \n      const {\n        loader, \n        errorComponent, \n        timeout,\n        delay,\n        loadingComponent,\n        onError\n      } = options\n\n      const loaded = ref(false)\n      const error = ref(false) //\u8D85\u65F6\u5904\u7406\n      const loading = ref(false)\n\n      let loadingTimer = null\n      if (delay) {\n        loadingTimer = setTimeout(() => {\n          loading.value = true\n        }, delay)\n      }\n\n      let Comp = null\n      let attempts = 0\n      function loadFunc() {\n        return loader().catch(err => {\n          if (onError) {\n            return new Promise((resolve, reject) => {\n              const retry = () => resolve(loadFunc())\n              const fail = () => reject(err)\n              onError(err, retry, fail, ++attempts)\n            })\n          } else {\n            throw err //\u5C06\u9519\u8BEF\u7EE7\u7EED\u4F20\u9012\n          }\n        })\n      }\n\n      if (timeout) {\n        setTimeout(() => {\n          error.value = true\n          throw new Error(\"\u7EC4\u4EF6\u52A0\u8F7D\u5931\u8D25\")\n        }, timeout)\n      }\n\n      loadFunc()\n      .then((comp) => {\n        Comp = comp\n        loaded.value = true\n       }).catch(err => {\n          error.value = err\n        }).finally(() => {\n          loading.value = false\n          //\u65E0\u8BBA\u6210\u529F\u8FD8\u662F\u5931\u8D25, \u90FD\u4E0D\u4F1A\u89E6\u53D1\n          loadingTimer && clearTimeout(loadingTimer)\n        })\n\n        const placeholder = h(\"div\")\n\n        return () => {\n          if (loaded.value) {\n            return h(Comp)\n          } else if (error.value && errorComponent) {\n            return h(errorComponent)\n          } else if (loading.value && loadingComponent) {\n            return h(loadingComponent)\n          } else {\n            return placeholder\n          }\n        }\n    }\n  }\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n", "import { nodeOps } from './nodeOps'\nimport patchProp from './patchProp'\nimport { createRenderer } from '@vue/runtime-core'\n\nexport * from '@vue/shared'\n\n//\u5C06\u8282\u70B9\u64CD\u4F5C\u548C\u5C5E\u6027\u64CD\u4F5C\u7ED3\u5408\u5728\u4E00\u8D77\nconst renderOptions = Object.assign({ patchProp }, nodeOps)\n\nexport const render = (vnode, container) => {\n  return createRenderer(renderOptions).render(vnode, container)\n}\nexport * from '@vue/runtime-core'\n\n\n"],
  "mappings": "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",
  "names": ["ShapeFlags", "effect", "ref", "source", "effect", "job", "render", "handler", "LifeCycle", "renderOptions", "i", "render", "effect", "ref", "container", "anchor"]
}
